!function(e){"use strict";let n=function(e,n){this.node=e,this.id=n.id,this.messages=n.messages,this.settings=n,this._init()};n.prototype={settings:{},_init:function(){this.node.find("#oew-form-"+this.id).length>0&&this.node.find("#oew-form-"+this.id).on("submit",e.proxy(this._loginFormSubmit,this))},_loginFormSubmit:function(n){n.preventDefault();var t=e(n.target),o=t.find('input[name="log"]'),r=t.find('input[name="pwd"]'),i=t.find('input[name="rememberme"]'),a=t.find('input[name="redirect_to"]');if(o.parent().find(".oew-lf-error").remove(),r.parent().find(".oew-lf-error").remove(),""!==o.val().trim())if(""!==r.val()){var s=new FormData(t[0]);s.append("action","oewe_lf_process_login"),s.append("page_url",this.settings.page_url),s.append("username",o.val()),s.append("password",r.val()),a.length>0&&""!==a.val()&&s.append("redirect",a.val()),i.length>0&&i.is(":checked")&&s.append("remember","1"),this._ajax(s,function(n){if(n.success)if(n.data.redirect_url){var o=location.protocol+"//"+location.host;(""===n.data.redirect_url.split(o)[0]?n.data.redirect_url.split(o)[1]:n.data.redirect_url.split(o)[0])===location.href.split(o)[1]?window.location.reload():window.location.href=n.data.redirect_url}else window.location.reload();else t.find(".oew-lf-error").remove(),e('<span class="oew-lf-error">').prependTo(t).html(n.data)})}else e('<span class="oew-lf-error">').insertAfter(r).html(this.messages.empty_password);else e('<span class="oew-lf-error">').insertAfter(o).html(this.messages.empty_username)},_getNonce:function(){return this.node.find('.oew-login-form input[name="oewe-lf-login-nonce"]').val()},_ajax:function(n,t){var o={type:"POST",url:oewLogin.ajax_url,data:n,dataType:"json",success:function(e){"function"==typeof t&&t(e)},error:function(e,n){console.log(n)}};void 0===n.provider&&(o.processData=!1,o.contentType=!1),e.ajax(o)}};var t=function(e,t){var o=e.find(".oew-form"),r=e.find(".oew-login-form-wrap").data("page-url");t(o).length>0&&new n(e,{id:e.data("id"),messages:{empty_username:oewLogin.empty_username,empty_password:oewLogin.empty_password},page_url:r})};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/oew-login.default",t)})}(jQuery);